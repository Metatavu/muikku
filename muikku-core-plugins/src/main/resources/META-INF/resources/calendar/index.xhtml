<?xml version="1.0" encoding="UTF-8"?>
<ui:composition 
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:m="http://www.ofw.fi/xml/2013/muikku/components-taglib.xsd"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:c="http://java.sun.com/jsp/jstl/core" 
  xmlns:h="http://java.sun.com/jsf/html"
  template="/WEB-INF/templates/mainfunction.xhtml">

  <ui:define name="viewCss">
    <h:outputStylesheet library="#{sessionBackingBean.resourceLibrary}" name="css/fullcalendar.css" />  
    
     <!-- Time Picker -->
    <h:outputScript name="scripts/jquery.timepicker/jquery.timepicker.js" target="head"/>
    <h:outputStylesheet name="scripts/jquery.timepicker/jquery.timepicker.css"/>
    
    <!-- jstimezonedetect -->
    
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jstimezonedetect/1.0.4/jstz.min.js"/>

    <!-- Full Calendar -->
    <h:outputScript name="scripts/fullcalendar/fullcalendar.js" target="head"/>

    <h:outputScript name="scripts/jquery.recurrenceInput/recurrenceinput.js" target="head"/>
    <h:outputScript name="scripts/gui/eventdialog.js" target="head"/>
    <h:outputScript name="scripts/gui/fullcalendar.js" target="head"/>
    
    <!-- Context menu -->
    
    <h:outputScript name="scripts/jquery.contextmenu/jquery.contextmenu.js" target="head"/>
    <h:outputStylesheet name="scripts/jquery.contextmenu/jquery.contextmenu.css"/>   
  </ui:define>


    <ui:define name="content.tools.left"> 
      <m:widget name="newevent" size="6" rendered="#{sessionBackingBean.loggedIn}"/>
    </ui:define>


    <ui:define name="content.tools.center">
    
      <!--   TODO : Widget --> 
          
      <div class="mf-content-toolbar grid_18 omega noLid">  
        <div class="mf-content-tool-container">
          <div class="mf-content-tool icon-home selected"></div>
          <div class="fullCalendarWidgetModeButton mf-content-tool icon-day" data-mode="DAY"></div>
          <div class="fullCalendarWidgetModeButton mf-content-tool icon-week" data-mode="WEEK"></div>
          <div class="fullCalendarWidgetModeButton mf-content-tool icon-month" data-mode="MONTH"></div>  
          <div class="fullCalendarWidgetModeButton mf-content-tool icon-numbered-list" data-mode="EVENT_LIST"></div>  
        </div>
      </div>
    </ui:define>

    <ui:define name="content.left.widget"> 
    
     <!--  TODO : Widget -->
     
      <div class="mf-side-header">
       <span>Pummikuu</span>
      </div> 
      <div class="mf-side-content">
      <c:forEach var="i" begin="1" end="31">
        <div class="ca-weekDays numbers">#{i}</div>
      </c:forEach>      

    </div>
    </ui:define>

    <ui:define name="content.center.widget">
       <div class="ca-home">
       
      <!--  TODO : Widget -->      
      
         <div class="ca-home-today">
           <div class="ca-today-date">
             <div class="ca-date-primary">
               <span>12</span>
             </div>
             <div class="ca-date-secondary">
                <div class="ca-date-day-name"><span>Keskiviikko</span></div>
                <div class="ca-date-day-time"><span>Klo. 15</span></div>
             </div>
             <div class="clear"></div>
           </div>
           <div class="ca-today-events">
              <c:forEach var="i" begin="1" end="7">
                <div class="mf-event ca-today-event fc00">
                  <span class="event-time">Klo. #{i + 1}</span>
                  <span class="event-topic">Tapahtuma #{i}</span>  
                </div>
              </c:forEach>         
              <div class="clear"></div>        
           </div>
           
         </div>
         <div class="ca-home-week">
         
          <!--  TODO : Widget -->
              
            <div class="mf-side-header">
              <c:forEach var="i" begin="1" end="7">
                <c:if test="#{i eq 4}">
                  <div class="ca-weekDays names today">Day #{i}</div>
                </c:if>
                <c:if test="#{i != 4}"> 
                  <div class="ca-weekDays names">Day #{i}</div>
                </c:if>
              </c:forEach>                  
            </div>        
           <c:forEach var="i" begin="1" end="7">
            <div class="ca-weekDays grids ca-week-grid">
                <c:if test="#{i eq 4}">
                  <div class="ca-time-grid-day today">
                     <c:forEach var="a" begin="1" end="24">
                       <div class="ca-time-grid-hour">#{a}:00</div>
                     </c:forEach>           
                  </div>
                </c:if>
                <c:if test="#{i != 4}"> 
                  <div class="ca-time-grid-day">
                     <c:forEach var="a" begin="1" end="24">
                       <div class="ca-time-grid-hour">#{a}:00</div>
                     </c:forEach>           
                  </div>
                </c:if> 
 
   
            </div>
          </c:forEach>              
         </div>
        <div class="clear"></div>
       </div>
       <div class="clear"></div>
    </ui:define>

</ui:composition>