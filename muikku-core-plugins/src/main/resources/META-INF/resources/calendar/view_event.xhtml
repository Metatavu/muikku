<?xml version="1.0" encoding="UTF-8"?>
<ui:composition 
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:m="http://www.ofw.fi/xml/2013/muikku/components-taglib.xsd"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:c="http://java.sun.com/jsp/jstl/core" 
  xmlns:h="http://java.sun.com/jsf/html"
  template="/WEB-INF/templates/mainfunction.xhtml">

  <ui:define name="viewCss">
    <h:outputStylesheet library="#{sessionBackingBean.resourceLibrary}" name="css/fullcalendar.css" />  
    
     <!-- Time Picker -->
    <h:outputScript name="scripts/jquery.timepicker/jquery.timepicker.js" target="head"/>
    <h:outputStylesheet name="scripts/jquery.timepicker/jquery.timepicker.css"/>
    
    <!-- jstimezonedetect -->
    
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jstimezonedetect/1.0.4/jstz.min.js"/>

    <!-- Full Calendar -->
    <h:outputScript name="scripts/fullcalendar/fullcalendar.js" target="head"/>

    <h:outputScript name="scripts/jquery.recurrenceInput/recurrenceinput.js" target="head"/>
    <h:outputScript name="scripts/gui/eventdialog.js" target="head"/>
    <h:outputScript name="scripts/gui/fullcalendar.js" target="head"/>
    
    <!-- Context menu -->
    
    <h:outputScript name="scripts/jquery.contextmenu/jquery.contextmenu.js" target="head"/>
    <h:outputStylesheet name="scripts/jquery.contextmenu/jquery.contextmenu.css"/>   
  </ui:define>


    <ui:define name="content.tools.left"> 
      <m:widget name="newevent" size="6" rendered="#{sessionBackingBean.loggedIn}"/>
    </ui:define>


    <ui:define name="content.tools.center">
    
      <!--   TODO : Widget --> 
          
      <div class="mf-content-toolbar grid_18 omega noLid">  
        <div class="mf-content-tool-container">
          <a class="mf-content-tool icon-home" href="./index.jsf"></a>
          <a class="mf-content-tool icon-day"  href="./view_day.jsf" data-mode="DAY"></a>
          <a class="mf-content-tool icon-week" href="./view_week.jsf" data-mode="WEEK"></a>
          <a class="mf-content-tool icon-month" href="./view_month.jsf" data-mode="MONTH"></a>  
          <a class="mf-content-tool icon-numbered-list selected" href="./view_event.jsf" data-mode="EVENT_LIST"></a>  
        </div>
      </div>
    </ui:define>

    <ui:define name="content.left.widget"> 
    
     <!--  TODO : Widget -->
     
      <div class="mf-sub-header">
       <span>Pummikuu</span>
      </div> 
      <div class="mf-side-content">
      <c:forEach var="i" begin="1" end="31">
        <div class="ca-weekDays numbers">#{i}</div>
      </c:forEach>      
      <div class="clear"></div>
    </div>
    </ui:define>

    <ui:define name="content.center.widget">
      <div class="ca-grid-events">
        <div class="mf-sub-header ca-grid-events-topic"><span>Tapahtumat</span></div>
        <div class="ca-grid-events-content">
          <div class="ca-grid-events-subTopic"><span>Tänään</span></div>
          <div class="ca-grid-events-list">
            <c:forEach var="i" begin="1" end="11">
              <div class="ca-list-event"><span class="event-tag">P</span><span class="event-time">hh:mm</span><span class="event-name">Tapahtuma #{i}</span></div>
            </c:forEach>      
          </div>
          <div class="clear"></div>
        </div>
      </div>
      <div class="clear"></div>
    </ui:define>

</ui:composition>