<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" 
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:f="http://java.sun.com/jsf/core" 
  xmlns:h="http://java.sun.com/jsf/html" 
  xmlns:m="http://www.ofw.fi/xml/2013/muikku/components-taglib.xsd"
  xmlns:composite="http://java.sun.com/jsf/composite/composite" 
  template="/workspaces/templates/workspace-materials-view.xhtml">

  <ui:define name="workspace.content.top.static">
 
  </ui:define>
  
  <ui:define name="workspace.content">

    <nav class="workspace-materials-toc-wrapper" id="workspaceMaterialsTOCWrapper">
      <div class="workspace-materials-toc-container">
        <h1 class="workspace-materials-toc-title">Sis√§llysluettelo</h1>
        <div class="workspace-materials-toc-content-outer">
          <div class="workspace-materials-toc-content-inner">
            <div class="workspace-materials-toc-content-scrolling">
              <ui:include src="/workspaces/templates/workspace-materials-list.xhtml">
                <ui:param name="nodes" value="#{workspaceMaterialsTOCBackingBean.getVisibleChildren(workspaceMaterialsBackingBean.getRootFolder())}"/>
                <ui:param name="includeHidden" value="false"/>
              </ui:include>
<!--               <div class="spacer"></div> -->
            </div>
          </div>
        </div>
      </div>
    </nav>

    <ui:repeat var="node" value="#{workspaceMaterialsTOCBackingBean.getVisibleDescendants(workspaceMaterialsBackingBean.getRootFolder())}">
      <section id="page-#{node.workspaceMaterialId}" data-workspace-material-id="#{node.workspaceMaterialId}" data-material-id="#{node.materialId}" data-material-type="#{node.materialType}" data-material-title="#{node.materialTitle}" class="workspace-materials-view-page material-view"/>
    </ui:repeat>
    <input class="workspaceEntityId" type="hidden" value="#{workspaceMaterialsBackingBean.workspaceEntityId}"/>
  </ui:define>

</ui:composition>