<?xml version="1.0" encoding="UTF-8"?>

<ui:composition xmlns="http://www.w3.org/1999/xhtml" 
  xmlns:c="http://java.sun.com/jsp/jstl/core" 
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:f="http://java.sun.com/jsf/core" 
  xmlns:h="http://java.sun.com/jsf/html" 
  xmlns:m="http://www.ofw.fi/xml/2013/muikku/components-taglib.xsd"
  xmlns:composite="http://java.sun.com/jsf/composite/composite" 
  template="/workspaces/templates/workspace-view.xhtml">
  
  <f:metadata>
      <f:viewAction action="#{workspaceIndexBackingBean.visit}" />
  </f:metadata>

	<!-- Workspace title -->
	<ui:define name="workspace.content.top.static">
		<h1 class="workspace-title">#{workspaceIndexBackingBean.workspaceName}</h1>
		<div class="workspace-meta-wrapper">
			<span class="workspace-study-level-indicator indicator1">#{workspaceIndexBackingBean.educationType}</span>
			<span class="workspace-meta-title">Aine</span>
      <span class="workspace-meta-desc">#{workspaceIndexBackingBean.subject}</span> 
      <!-- 
      <span class="workspace-meta-title">Tyyppi</span>
      <span class="workspace-meta-desc">Ryhm√§kurssi</span> 
      -->
      <span class="workspace-meta-title">Laajuus</span>
      <span class="workspace-meta-desc">
        <h:outputFormat value="#{i18n.text['plugin.workspace.index.courseLength']}">
          <f:param value="#{workspaceIndexBackingBean.courseLength}"/>
          <f:param value="#{workspaceIndexBackingBean.courseLengthSymbol}"/>
        </h:outputFormat>
      </span> 
      
      <ui:fragment rendered="#{(workspaceIndexBackingBean.beginDate ne null) and (workspaceIndexBackingBean.endDate ne null)}">
        <span class="workspace-meta-title">Aika</span>
        <span class="workspace-meta-desc">
          <h:outputFormat value="#{i18n.text['plugin.workspace.index.courseDates']}">
            <f:param value="#{workspaceIndexBackingBean.beginDate}"/>
            <f:param value="#{workspaceIndexBackingBean.endDate}"/>
          </h:outputFormat>
        </span> 
      </ui:fragment>
		</div>
	</ui:define>

	<ui:define name="workspace.content">
		<ui:fragment rendered="#{not empty workspaceIndexBackingBean.workspaceMaterialId}">
			<article id="page-#{workspaceIndexBackingBean.workspaceMaterialId}"
				data-workspace-material-id="#{workspaceIndexBackingBean.workspaceMaterialId}"
				data-material-id="#{workspaceIndexBackingBean.materialId}"
				data-material-type="#{workspaceIndexBackingBean.materialType}"
				data-material-title="#{workspaceIndexBackingBean.materialTitle}"
				class="workspace-description-wrapper" />
		</ui:fragment>
		<input class="workspaceEntityId" type="hidden" value="#{workspaceIndexBackingBean.workspaceEntityId}" />
	</ui:define>

</ui:composition>
