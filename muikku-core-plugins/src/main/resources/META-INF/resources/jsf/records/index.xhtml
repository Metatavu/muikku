<!-- <ui:composition xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:jsf="http://xmlns.jcp.org/jsf"
  template="/WEB-INF/templates/deprecated/flex-main-functionality.xhtml">

  <ui:param name="activeTrail" value="records"/>

  <ui:define name="scripts">
    <script defer="defer" type="text/javascript" src="#{request.contextPath}/JavaScriptLocales?lang=#{sessionBackingBean.locale}"/>
    <script defer="defer" type="text/javascript" jsf:name="/scripts/gui/locales.js"/>
    <script defer="defer" type="text/javascript" src="//cdn.muikkuverkko.fi/libs/dustjs-linkedin/2.7.1/dust-full.min.js"/>
    <script defer="defer" type="text/javascript" src="//cdn.muikkuverkko.fi/libs/dustjs-helpers/1.7.1/dust-helpers.min.js"/>
    <script defer="defer" type="text/javascript" jsf:name="/scripts/gui/dustloader.js"/>
    <script defer="defer" type="text/javascript" jsf:name="/scripts/gui/mainfunctions.js"/>
    <script defer="defer" type="text/javascript" jsf:name="/scripts/gui/records.js"/>
    <ui:include src="/jsf/workspace/workspace-material-scripts.xhtml"/>
  </ui:define>

  <ui:define name="main-functionality-styles">
    <link rel="stylesheet" type="text/css" href="/css/deprecated/flex/records.css"/>
  </ui:define>  

  <ui:define name="mf-controls-container">
  </ui:define>

  <ui:define name="mf-content-functions">
  </ui:define>

  <ui:define name="mf-content-master">
    <div class="records">
      <h2 class="main-functionality-page-title">#{i18n.text['plugin.records.pageTitle']}</h2>
      <ui:insert name="mf-content-functions">
        <div class="mf-content-functions flex-row flex-align-items-center">
          <div class="mf-button-container lg-flex-cell-4 md-flex-cell-4 sm-flex-cell-8 sm-flex-order-1 sm-flex-cell-first">
            <div class="tr-category-dropdown mf-dropdown">
              <div class="mf-dropdown-content">
                <span class="mf-dropdown-text tr-dropdown-selected-text"/>
                <span class="mf-dropdown-arrow icon-arrow-down"/>
              </div>
              <ul style="display: none">
                <li data-value="records">
                  <span class="mf-dropdown-item">#{i18n.text['plugin.records.category.records']}</span>
                </li>
                <ui:fragment rendered="#{transcriptofRecordsBackingBean.showStudies}">
                  <li data-value="vops">
                    <span class="mf-dropdown-item">#{i18n.text['plugin.records.category.studyplan']}</span>
                  </li>
                  <li data-value="hops-form">
                    <span class="mf-dropdown-item">#{i18n.text['plugin.records.category.hops']}</span>
                  </li>
                </ui:fragment>
              </ul>
            </div>
          </div>
        </div>
      </ui:insert>
      <div class="mf-content-area">
        <div class="tr-study-information">
          <div class="tr-studydate-item">
            <ui:fragment rendered="#{!empty(transcriptofRecordsBackingBean.studyStartDate)}">
              <label class="tr-studydate-item-label">#{i18n.text['plugin.records.studyStartDateLabel']}</label>
              <span class="tr-studydate-item-data">
                <h:outputText value="#{transcriptofRecordsBackingBean.studyStartDate}">
                  <f:convertDateTime type="date" dateStyle="short" />
                </h:outputText>                      
              </span>
            </ui:fragment>
          </div>
          
          <div class="tr-studydate-item">
            <ui:fragment rendered="#{!empty(transcriptofRecordsBackingBean.studyTimeEnd)}">
              <label class="tr-studydate-item-label">#{i18n.text['plugin.records.studyTimeEndLabel']}</label>
              <span class="tr-studydate-item-data">
                <h:outputText value="#{transcriptofRecordsBackingBean.studyTimeEnd}">
                  <f:convertDateTime type="date" dateStyle="short" />
                </h:outputText> 
                                   
                <ui:fragment rendered="#{!empty(transcriptofRecordsBackingBean.studyTimeLeftStr)}">
                  <h:outputText value=" (#{transcriptofRecordsBackingBean.studyTimeLeftStr})"/>
                </ui:fragment>
              </span>
            </ui:fragment>
          </div>
        </div>
        
        <div class="tr-content-main flex-row" data-grades="#{transcriptofRecordsBackingBean.grades}">
        </div>
        <div class="tr-content-main flex-row" data-files="#{transcriptofRecordsBackingBean.files}">
        </div>
        
      </div>
    </div>
  </ui:define>

</ui:composition>
 -->
 
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:jsf="http://xmlns.jcp.org/jsf"
  template="/WEB-INF/templates/base.xhtml">
  
  <ui:define name="scripts">
    <script defer="defer">
      MUIKKU_PERMISSIONS.SHOW_STUDIES = #{transcriptofRecordsBackingBean.showStudies};

  	  //TODO WHAT THE HELL???
      GRADES = #{transcriptofRecordsBackingBean.grades};
  	  FILES = #{transcriptofRecordsBackingBean.files};
  	  STUDY_START_DATE = #{transcriptofRecordsBackingBean.studyStartDate};
    </script>
    <script defer="defer" jsf:name="scripts/dist/vendor.js" />
    <script defer="defer" jsf:name="scripts/dist/records.js" />
  </ui:define>
  
  <ui:define name="styles">
    <link rel="stylesheet" type="text/css" href="/scripts/dist/records.css" />
  </ui:define>

</ui:composition>