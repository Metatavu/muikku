<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" 
  xmlns:m="http://www.ofw.fi/xml/2013/muikku/components-taglib.xsd" 
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core" 
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:c="http://java.sun.com/jsp/jstl/core" 
  template="/WEB-INF/templates/main-view.xhtml">

	<ui:define name="header">
		<c:choose>
			<c:when test="#{sessionBackingBean.loggedIn}">
				<header id="headerSmall">
					<div id="headerContainerSmall" class="container_24">
            <div id="headerLogoTextContainerSmall"></div>
						<div id="headerFishContainerSmall"></div>
						<m:widgetSpaceSet styleClass="noLid">
							<ui:insert name="header.left">
								<ui:include src="/facelets/generic/header-left.xhtml">
									<ui:param name="sizing" value="MINIMIZE" />
									<ui:param name="class" value="" />
									<ui:param name="keepEmpty" value="false" />
									<ui:param name="name" value="generic.header.left" />
								</ui:include>
							</ui:insert>
							<ui:insert name="header.center">
								<ui:include src="/facelets/generic/header-center.xhtml">
									<ui:param name="sizing" value="MAXIMIZE" />
									<ui:param name="class" value="" />
									<ui:param name="keepEmpty" value="true" />
									<ui:param name="name" value="generic.header.center" />
								</ui:include>
							</ui:insert>
							<ui:insert name="header.right">
								<ui:include src="/facelets/generic/header-right.xhtml">
									<ui:param name="sizing" value="MINIMIZE" />
									<ui:param name="class" value="" />
									<ui:param name="keepEmpty" value="true" />
									<ui:param name="name" value="generic.header.right" />
								</ui:include>
							</ui:insert>
						</m:widgetSpaceSet>
					</div>
				</header>
			</c:when>
			<c:otherwise>
				<header id="headerBig">
					<div id="headerContainerBig" class="container_24">
						<div id="headerLogoTextContainerBig"></div>
						<div id="headerFishContainerBig"></div>
						<m:widgetSpaceSet styleClass="noLid">
							<ui:insert name="header.left">
								<ui:include src="/facelets/generic/header-left.xhtml">
									<ui:param name="sizing" value="MINIMIZE" />
									<ui:param name="class" value="" />
									<ui:param name="keepEmpty" value="false" />
									<ui:param name="name" value="generic.header.left" />
								</ui:include>
							</ui:insert>
							<ui:insert name="header.center">
								<ui:include src="/facelets/generic/header-center.xhtml">
									<ui:param name="sizing" value="MAXIMIZE" />
									<ui:param name="class" value="" />
									<ui:param name="keepEmpty" value="true" />
									<ui:param name="name" value="generic.header.center" />
								</ui:include>
							</ui:insert>
							<ui:insert name="header.right">
								<ui:include src="/facelets/generic/header-right.xhtml">
									<ui:param name="sizing" value="MINIMIZE" />
									<ui:param name="class" value="" />
									<ui:param name="keepEmpty" value="true" />
									<ui:param name="name" value="generic.header.right" />
								</ui:include>
							</ui:insert>
						</m:widgetSpaceSet>
					</div>
				</header>
			</c:otherwise>
		</c:choose>
	</ui:define>

	<ui:define name="content.center.widget">
  
 
    <ui:fragment rendered="#{!sessionBackingBean.loggedIn}">
      <m:widgetSpaceSet>
        <m:widgetSpace name="index.content.primary.left" keepEmpty="false" sizing="SUM" styleClass="alpha">
          <m:widget name="home-info" size="12"/>
        </m:widgetSpace>
        <m:widgetSpace name="index.content.primary.right" keepEmpty="false" sizing="SUM" styleClass="omega">
          <m:widget name="home-guide" size="12"/>         
        </m:widgetSpace>
      </m:widgetSpaceSet>
  
      <div class="clear"></div>
  
      <m:widgetSpaceSet>
        <m:widgetSpace name="index.content.secondary.left" keepEmpty="false" sizing="MAXIMIZE" styleClass="nomargin">
          <m:widget name="home-news" />
        </m:widgetSpace>
        <m:widgetSpace name="index.content.secondary.center" keepEmpty="false" sizing="MINIMIZE"></m:widgetSpace>
        <m:widgetSpace name="index.content.secondary.right" keepEmpty="false" sizing="MINIMIZE"></m:widgetSpace>
      </m:widgetSpaceSet>
  
      <div class="clear"></div>
    </ui:fragment>




    <ui:fragment rendered="#{sessionBackingBean.loggedIn}">
   
      <ui:fragment rendered="#{sessionBackingBean.teacherLoggedIn || sessionBackingBean.managerLoggedIn || sessionBackingBean.administratorLoggedIn}">
        <h3>Ope</h3>

 
        <m:widgetSpaceSet>
          <m:widgetSpace name="index.content.headlines" keepEmpty="true" sizing="MAXIMIZE" styleClass="nomargin">
            <m:widget name="home-personaltopics"  size="8" />
          </m:widgetSpace>
        </m:widgetSpaceSet>
 
 
        <m:widgetSpaceSet>

          <m:widgetSpace name="index.content.primary.left" keepEmpty="true" sizing="MINIMIZE" styleClass="alpha">
            <m:widget name="home-students" size="8" />
          </m:widgetSpace>
  
          <m:widgetSpace name="index.content.primary.right" keepEmpty="true" sizing="MINIMIZE" styleClass="omega">
<!--  This crashes dem. All dem
            <m:widget name="home-courses" size="16">
              <ui:param name="courselist" value="home-courses" />
            </m:widget>
-->
            <m:widget name="home-wallfeed" size="16" />
            <m:widget name="home-calendar" size="16" />

          </m:widgetSpace>

        </m:widgetSpaceSet>
    
        <div class="clear"></div>
     
        <m:widgetSpaceSet>
          <m:widgetSpace name="index.content.secondary.left" keepEmpty="false" sizing="MAXIMIZE">
          </m:widgetSpace>
          <m:widgetSpace name="index.content.secondary.center" keepEmpty="false" sizing="MINIMIZE"></m:widgetSpace>
          <m:widgetSpace name="index.content.secondary.right" keepEmpty="false" sizing="MINIMIZE"></m:widgetSpace>
        </m:widgetSpaceSet>
    
        <div class="clear"></div>
 
      </ui:fragment>

      <ui:fragment rendered="#{sessionBackingBean.studentLoggedIn}">
       <h3>Opiskelija</h3>



        <m:widgetSpaceSet>
          <m:widgetSpace name="index.content.headlines" keepEmpty="false" sizing="MAXIMIZE" styleClass="nomargin">
                    <h3>sii o</h3>
            <m:widget name="home-personaltopics" rendered="#{sessionBackingBean.loggedIn}" size="8" />
          </m:widgetSpace>
        </m:widgetSpaceSet>
        
    
        
        <m:widgetSpaceSet>
          <m:widgetSpace name="index.content.primary.left" keepEmpty="false" sizing="MINIMIZE" styleClass="alpha">
            <m:widget name="home-courses" rendered="#{sessionBackingBean.loggedIn}" size="8">
              <ui:param name="courselist" value="home-courses" />
            </m:widget>
          </m:widgetSpace>
          <m:widgetSpace name="index.content.primary.right" keepEmpty="false" sizing="MINIMIZE" styleClass="omega">
            <m:widget name="home-info" size="16" rendered="#{!sessionBackingBean.loggedIn}" />
            <m:widget name="home-wallfeed" rendered="#{sessionBackingBean.loggedIn}" size="16" />
            <m:widget name="home-calendar" rendered="#{sessionBackingBean.loggedIn}" size="16" />
          </m:widgetSpace>
        </m:widgetSpaceSet>
    
    
        <div class="clear"></div>
      
        <m:widgetSpaceSet>
          <m:widgetSpace name="index.content.secondary.left" keepEmpty="false" sizing="MAXIMIZE">
            <m:widget name="home-news" rendered="#{!sessionBackingBean.loggedIn}" />
          </m:widgetSpace>
          <m:widgetSpace name="index.content.secondary.center" keepEmpty="false" sizing="MINIMIZE"></m:widgetSpace>
          <m:widgetSpace name="index.content.secondary.right" keepEmpty="false" sizing="MINIMIZE"></m:widgetSpace>
        </m:widgetSpaceSet>
   
        <div class="clear"></div>

      </ui:fragment>
               
    </ui:fragment>
  </ui:define>

</ui:composition>
