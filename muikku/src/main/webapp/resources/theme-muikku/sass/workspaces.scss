@import "_base.scss"; /* Has to be loaded 1st, has all the mixins */
@import "_workspaces-materials.scss"; 
@import "_connect-field.scss";

body.workspace { 
  @include background-image('/gfx/light-diagonal-strips.png');
  background-repeat:repeat;
  background-color:#f0f3f5;
  min-height:100%;
  font-size:14px;
  
  section {
    background:#fff;
    padding:10px 30px;
    margin:23px 0 0 0;
  }
  
  h1.workspace-title {
    margin:20px 0 20px 0;
    color:#38393a;
    font-weight:300;
    text-transform:uppercase;
    line-height:1.3em;
  }
  
  .workspace-meta-wrapper {
    font-size:13px;
    text-transform:uppercase;
    
    .workspace-study-level-indicator {
      color:#fff;
      display:inline-block;
      margin:0 10px 0 0;
    
      &.indicator1 {
        background:#0099ff;
        border-radius:2px;
        padding:0px 6px;
      }
    
    }
    
    .workspace-meta-title {
      color:#7e7e7e;
      display:inline-block;
      margin:0 5px 0 0;
    }
    
    .workspace-meta-desc {
      color:#000;
      display:inline-block;
      margin:0 10px 0 0;
    }
  }
  
  .workspace-description-wrapper {
    margin:1em 0 1em 0;
    font-size:14px;
    
    img {
      max-width:100%;
    }
    
    h1,
    h2 {
    
      &:first-child {
        margin:20px 0 20px 0;
      }
      
    }
    
    h1,
    h2,
    h3 {
      margin:40px 0 20px 0;
      color:#38393a;
      font-weight:300;
      text-transform:none;
      line-height:1.3em;
    }
    
    h4,
    h5,
    h6 {
      margin:20px 0 20px 0;
      color:#38393a;
      font-weight:300;
      text-transform:none;
      line-height:1.3em;
    }
    
    h1 {
      font-size:29px;
    }
      
    h2 {
      font-size:26px;
    }
    
    h3 {
      font-size:19px;
      font-weight:normal;
    }
    
    h4 {
      font-size:17px;
      font-weight:normal;
    }
    
    h5 {
      font-size:15px;
      font-weight:normal;
    }
    
    h6 {
      font-size:13px;
      font-weight:normal;
    }
    
    p {
      margin:15px 0 15px 0;
      line-height:1.5em;
    }
   
  }
  
  #staticNavigationWrapperWorkspace {
    background:none; /* We need to remove all background rules first */
    @include background-image('gfx/workspace-navigation-background.png'); /* Workspace's navigation's background */
    background-position:250px 0px;
    background-repeat:no-repeat;
    background-color:#32acf6;
    border-bottom:1px solid #ffffff; 
    box-shadow:0 3px 10px rgba(0,0,0,0.1);
    height:76px;
    
    &.stuckStNav {
      content:" ";
      position:fixed;
      top:0;
      left:0;
      right:0;
      z-index:99;
    }
    
  }
  
  #workspaceNavigationWrapper { 
    position:fixed;
    top:100px;
    z-index:11;
    
    .grid_1 {
      float:none;
      width:auto;
      margin:0;
    }
    
    #workspaceDockWrapper {
      background:#596e7d;
      @include rounded(3px);
      width:60px;
      box-shadow:0 0 5px rgba(0,0,0,0.25);
      
      #workspaceDock {
        text-align:center;
      }
      
    }

  }

}  
  
body.workspace-materials {
  @include background-image('/gfx/light-diagonal-strips.png');
  background-repeat:repeat;
  background-color:#f0f3f5;
  min-height:100%;
  font-size:14px;
  
  h1.workspace-title {
    margin:20px 0 20px 0;
    color:#38393a;
    font-weight:300;
    text-transform:uppercase;
    line-height:1.3em;
  }
  
  #staticNavigationWrapperWorkspace {
    background:none; /* We need to remove all background rules first */
    @include background-image('gfx/workspace-navigation-background.png'); /* Workspace's navigation's background */
    background-position:250px 0px;
    background-repeat:no-repeat;
    background-color:#32acf6;
    border-bottom:1px solid #ffffff; 
    box-shadow:0 3px 10px rgba(0,0,0,0.1);
    height:76px;
    
    &.stuckStNav {
      content:" ";
      position:fixed;
      top:0;
      left:0;
      right:0;
      z-index:99;
    }
    
  }
  
  #workspaceNavigationWrapper { 
    position:fixed;
    top:100px;
    z-index:11;
    
    .grid_1 {
      float:none;
      width:auto;
      margin:0;
    }
    
    #workspaceDockWrapper {
      background:#596e7d;
      @include rounded(3px);
      width:60px;
      box-shadow:0 0 5px rgba(0,0,0,0.25);
      
      #workspaceDock {
        text-align:center;
      }
      
    }
    
    #workspaceMaterialsDockWrapper {
      background:#3d4c56;
      @include rounded(3px);
      width:60px;
      margin-bottom:10px;
      box-shadow:0 0 5px rgba(0,0,0,0.25);
      
      #workspaceMaterialsDock {
        text-align:center;
      }
      
    }

  }
  
  nav.workspace-materials-toc-wrapper#workspaceMaterialsTOCWrapper {
    background:#fff;
    position:fixed;
    top:100px;
    width:280px;
    bottom:0;
    text-align:left;
    font-family:"Open Sans";
    text-shadow:none;
    color:#000;
    font-size:14px;
    line-height:1.5em;
    border-bottom:5px solid #fff;
    z-index:11;
    
    &:hover > span {
      display:none;
    }
    
    ul, 
    li {
      list-style:none;
      margin:0;
      padding:0;
    }
    
    .workspace-materials-toc-container {
      position:relative;
      height:100%;
    
      .workspace-materials-toc-title {
        text-transform:uppercase;
        margin:0;
        padding:10px 12px;
        font-size:19px;
        color:#2c2c2c;
        height:20px;
      }
    
      .workspace-materials-toc-content-outer {
        overflow:hidden;
        position:absolute;
        width:280px;
        top:40px;
        bottom:0;
        
        .workspace-materials-toc-content-inner {  
          position:absolute;
          overflow-x: hidden;
          overflow-y: scroll;
          bottom:0;
          top:0;
          width:302px;
        
          .workspace-materials-toc-content-scrolling {
            padding:4px;
            width:272px;
            top:0;
            bottom:0;
            
            .spacer {
              height:30px; /* Creating some bottom margin because use of 100% height  */
            }
            
            .workspace-materials-toc-root {

              .workspace-materials-toc-item {
                font-weight:300;
                list-style:none;
                
                &:first-child {
                  margin-top:5px;
                  padding-top:2px;
                }
                
                &.item-hidden {
                  opacity:0.4;
                }
                
                a {
                  text-decoration:none;
                  color:#2c2c2c;
                  display:block;
                  @include genericMenuLinkHoverTransition(background,color,0.15s,ease-in-out);
                  @include rounded(2px);
                  padding:2px 8px 2px 6px;
                  border-left:2px solid #fff;
                  margin:1px 0;
                  
                  &:hover,
                  &.active {
                    background:#596e7d;
                    color:#fff;
                  }
                  
                  &.evaluated {
                    border-left:2px solid $evaluatedAssignment;
                  }
                  
                  &.exercise {
                    border-left:2px solid $exerciseAssignment;
                  }
                  
                }
    
              }

              .workspace-materials-toc-section {
                margin:0;
                padding-top:5px;
                padding-bottom:10px;
              
                .workspace-materials-toc-subtitle {
                  text-transform:uppercase;
                  font-size:15px;
                  padding:2px 8px;
                }
                
                .workspace-materials-toc-item {
                  font-weight:300;
                  
                  a {
                    text-decoration:none;
                    color:#41505b;
                    display:block;
                    @include genericMenuLinkHoverTransition(background,color,0.15s,ease-in-out);
                    @include rounded(2px);
                    padding:2px 8px;
                    
                    &:hover,
                    &.active {
                      background:#596e7d;
                      color:#fff;
                    }
                  }
                }
              
              }
            }
          }
        
        }
      
      }
    
    }
  
  }
  
  #contentWorkspaceMaterials {
    position:relative;
    padding-top:0.01em;
  
    & > article {
      position:relative;
      z-index:10;
    
        & > h1 {
        position:relative;
        z-index:12;
        max-width:700px;
        width:auto;
        background:#fff;
        margin:23px 300px -30px auto; 
        font-weight:300;
        color:#000;
        font-size:30px;
        padding:30px;
        text-transform:none;
        line-height:1.3em;
      }
    }

    .workspace-materials-view-page-section.material-view { /* <section> */
      position:relative;
      z-index:10;
      
      & > h2 {
        position:relative;
        z-index:12;
        max-width:700px;
        width:auto;
        margin:30px 300px -30px auto; 
        font-weight:300;
        color:#000;
        font-size:28px;
        padding:10px 30px;
        text-transform:none;
        line-height:1.3em;
        border:1px solid #fff;
        background:#ddf5ff;
        text-transform:uppercase;
      }
      
      & > h3,h4,h5,h6 {
        position:relative;
        z-index:13;
        max-width:700px;
        width:auto;
        background:#fff;
        margin:30px 300px -30px auto; 
        font-weight:300;
        color:#000;
        font-size:26px;
        padding:10px 30px 10px 30px;
        text-transform:none;
        line-height:1.3em;
      }
      
      .muikku-file-input-field-file-uploader-container {
       font-size:14px;
      }

      
    }

    .workspace-materials-view-page.material-view { /* <article> */
      padding:10px 30px;
      margin:30px 300px 37px auto;
      max-width:640px;
      position:relative;
      background:#fff;

      img {
        max-width:100%;
      }
      
      h1,
      h2 {
        
        &:first-child {
          margin:20px 0 20px 0;
        }
        
      }
      
      h1,
      h2,
      h3 {
        margin:40px 0 20px 0;
        color:#38393a;
        font-weight:300;
        text-transform:none;
        line-height:1.3em;
      }
      
      h4,
      h5,
      h6 {
        margin:20px 0 20px 0;
        color:#38393a;
        font-weight:300;
        text-transform:none;
        line-height:1.3em;
      }
      
      h1 {
        font-size:29px;
      }
        
      h2 {
        font-size:26px;
      }
      
      h3 {
        font-size:19px;
        font-weight:normal;
      }
      
      h4 {
        font-size:17px;
        font-weight:normal;
      }
      
      h5 {
        font-size:15px;
        font-weight:normal;
      }
      
      h6 {
        font-size:13px;
        font-weight:normal;
      }
      
      p {
        margin:15px 0 15px 0;
        line-height:1.5em;
      }
      
      label,select,option,input,textarea { /* Overrides the values used in reading/management */
        font-weight:normal;
        font-size:14px; /* Reset font-size  */
      }
      
      strong,b {
        font-weight:600; /* Override values used in reading/management */
      }
      
      em,i {
        font-weight:400;
      }

      blockquote {
        font-family: 'Open Sans',Verdana, sans-serif;
        font-style:italic;
        padding:2px 0;
        border-style:solid;
        border-color:#eee;
        border-width:0;
        color:#777;
        font-size:20px;
        margin:0 40px 0 40px;
      
        p {
          margin:10px 0 10px 0;
        }
      
      }
      
      .cke_contents_ltr blockquote {
        padding-left:20px;
        padding-right:8px;
        border-left-width:8px;
      }
      
      .cke_contents_rtl blockquote {
        padding-left:8px;
        padding-right:20px;
        border-right-width:8px;
      }
      
    }

  }

}

body.workspace,
body.workspace-materials {
  
  #workspaceEvaluationDockWrapper {
    text-align:center;
      
    .wi-workspace-dock-navi-button-evaluation { /* Button's master rules */
      width:60px;
      margin-bottom:10px;
      box-shadow:0 0 5px rgba(0,0,0,0.25);
      @include rounded(3px);
      
      a {
        text-shadow:none;
        transition: background 0.2s ease-in-out;
      }
      
      &[data-state='unassessed'] { /* Default state */
        background:#6ab0df;

        a:hover {
          background:#509ccf;
          
          span[class*='workspace-navi-tt-container-'] {
            background:#509ccf;
          }
          
        }
        
      }
      
      &[data-state='pending'] { /* Evaluation Request Pending */
        background:#0099ff; 
        transition: background 0.2s ease-in-out;

        a:hover {
          background:#0075c3;
          
          span[class*='workspace-navi-tt-container-'] {
            background:#0075c3;
          }
          
        }
        
        &:hover {
          background:#f6a930;
          
          a {
            background:#e5961b;
            
            &:before {
              content: "\e9f3"; /* Override Pending icon with Cancellation icon */
            }
            
            &:hover {
              background:#e5961b;
            
              span[class*='workspace-navi-tt-container-'] {
                background:#e5961b;
              }
            
            }

          }

        }
        
      }
      
      &[data-state='cancel'] { /* Evaluation Request Cancelled */
        background:#f6a930; /* Same as Default at this point */
        
        a:hover {
          background:#e5961b;
          
          span[class*='workspace-navi-tt-container-'] {
            background:#e5961b;
          }
          
        }
        
      }
      
      &[data-state='canceled'] { /* Evaluation Request Cancelled */
        background:#55bbff; /* Same as Default at this point */
        
        a:hover {
          background:#509ccf;
          
          span[class*='workspace-navi-tt-container-'] {
            background:#509ccf;
          }
          
        }
        
      }
      
      &[data-state='pass'] { /* Evaluation of Workspace - Pass */
        background:#1ec30c;
        
        a:hover {
          background:#16a506;
          
          span[class*='workspace-navi-tt-container-'] {
            background:#16a506;
          }
          
        }
        
      }
      
      &[data-state='fail'] { /* Evaluation of Workspace - Fail */
        background:#ea7401;
        
        a:hover {
          background:#d66b03;
          
          span[class*='workspace-navi-tt-container-'] {
            background:#d66b03;
          }
          
        }
      }
      
    }
    
  }
  
  /* JQuery UI Dialog Overrides */
  .ui-widget-overlay {
    background:#000;
    opacity:0.5;
  }
  
  .workspace-evaluation-confirm-dialog {
    box-shadow:0 0 80px rgba(0,0,0,0.4);
    background:#fff;
    font-family: 'Open Sans',Verdana, sans-serif;
    font-weight:300;
    padding:0;
    border-radius:5px;
    border:none;
    position:fixed;
    
    &.ui-corner-all {
      border-radius:0px;
    }
    
    .ui-dialog-titlebar {
      text-transform:uppercase;
      border:0px;
      background:#7391a7;
      color:#fff;
      border-radius:0px;
      padding:8px 36px 8px 12px;
      font-weight:400;
      
      .ui-dialog-title {
        margin:0;
        font-size:18px;
        width:100%;
        font-weight:300;
      }
      
      .ui-dialog-titlebar-close {
        background:#7391a7;
        border-radius:0px;
        border:0px;
        width:24px;
        margin:-13px 0 0 0;
        font-size:22px;
        height:22px; /* Same height as font-size */
        
        span {
          display:none;
        }
        
        &:before {
          content: "\e63b";
          color:#fff;
          font-size:22px;
          font-weight:normal;
          font-family: 'muikku';
          speak: none;
          font-style: normal;
          text-decoration:none;
          font-variant: normal;
          text-transform: none;
          line-height: 1;
          
          /* Better Font Rendering =========== */
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
        }
        
      }
      
    }
    
    .workspace-evaluation-request-confirm-dialog,
    .workspace-evaluation-cancellation-confirm-dialog {
      margin:10px 0 0 0;
      
      .evaluation-request-additional-message-wrapper {
        margin:10px 0;
      
        label {
          font-weight:400;
          text-transform:uppercase;
          padding:5px 0 5px 2px;
          font-size:14px;
          font-family:"Open Sans";
          color:#4c4c4c;
        }
      
        #evaluationRequestAdditionalMessage {
          width:100%;
          max-width:100%;
          box-sizing:border-box;
          min-height:100px;
          border:3px solid #ededed;
          font-family:"Open Sans";
          color:#4c4c4c;
          padding:4px 8px;
          font-weight:400;
          border-radius:0px;
          
          &:focus,
          &:hover,
          &:active {
            box-shadow:none;
            border:3px solid #ededed;
            outline:none;
          }
          
        }
      
      }
      
    }
    
    .ui-dialog-buttonpane {
      border:0;
      background:transparent;
      padding:0px 10px 10px 10px;
      margin:10px 0 0 0;
      
      .ui-dialog-buttonset {
        float:none;
        position:relative;
      
        button {
          border-radius:0px;
          border:0;
          color:#fff;
          font-weight:400;
          text-transform:uppercase;
          margin:5px;
          outline:none;
          font-family:"Open Sans";
          min-width:90px;
        }
        
        button.request-button {
          float:right;
          background:#068feb;
        }
        
        button.cancellation-button {
          float:right;
          background:#f6a930;
        }
        
        button.cancel-button {
          float:right;
          background:#7391a7;
        }
      
      }
    }
  }
}