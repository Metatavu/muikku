<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" 
  xmlns:m="http://www.ofw.fi/xml/2013/muikku/components-taglib.xsd"
  xmlns:h="http://java.sun.com/jsf/html" 
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:ui="http://java.sun.com/jsf/facelets">

  <f:view locale="#{muikkuSession.locale}">
  
    <h:head>
      <title>#{i18n.text['title']}</title>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
      <meta content="width=device-width, initial-scale=1.0" name="viewport" />
      <script type="text/javascript">
          var CONTEXTPATH = "#{request.contextPath}";
          var MUIKKU_LOGGED_USER_ID = parseInt('#{sessionBackingBean.loggedUserId}')||null;
          var MUIKKU_LOGGEDIN = #{muikkuSession.loggedIn};
      </script>
      
      <script src="#{request.contextPath}/JavaScriptLocales?lang=#{muikkuSession.locale}"></script>
      <h:outputScript name="scripts/gui/locales.js" target="head" />
  
      <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css' />
  
      <!-- CSS to remove all default styles -->
      <h:outputStylesheet library="#{sessionBackingBean.resourceLibrary}" name="css/cssreset-min.css" />
  
      <!-- Icons -->
      <h:outputStylesheet library="#{sessionBackingBean.resourceLibrary}" name="css/icons.css" />
      
      <!-- Screen CSS -->
      <h:outputStylesheet library="#{sessionBackingBean.resourceLibrary}" name="css/screen.css" />
      
      <!--  Temporary styles -->
      <h:outputStylesheet library="#{sessionBackingBean.resourceLibrary}" name="css/temp.css" />
      
      <!-- Dynamic Grid -->
      <h:outputStylesheet library="#{sessionBackingBean.resourceLibrary}" name="css/dgrid.css" />
      
      <!-- Default Calendar CSS -->
      <h:outputStylesheet library="#{sessionBackingBean.resourceLibrary}" name="css/fullcalendar.css" />
      
      <!-- jQuery -->
      <h:outputScript name="scripts/jquery/jquery-1.9.1.js" />
      <h:outputScript name="scripts/jquery.klass/jquery.klass-0.1a.js" />
  
      <!-- jQuery UI -->
      <h:outputScript name="scripts/jquery/jquery-ui/js/jquery-ui-1.10.2.custom.js" />
      <h:outputStylesheet library="#{sessionBackingBean.resourceLibrary}" name="css/jquery-ui.css" />
  
      <!-- jQuery Validation -->
      <h:outputScript name="scripts/jquery.validation/jquery.validate.js" />
  
      <!--  jQuery waypoints  -->
      <h:outputScript name="scripts/waypoints/waypoints.min.js" />
      <h:outputScript name="scripts/waypoints/shortcuts/waypoint-sticky.min.js" />
  
      <!--  jQuery scroll  -->
      <h:outputScript name="scripts/scroll/jquery.scroll.js" />
  
      <!--  jQuery M3-modal  -->
      <h:outputScript name="scripts/jquery.m3modal/jquery.m3modal.js" />
  
      <!--  jQuery Touch Punch  -->
      <h:outputScript name="scripts/jquery.ui.touch-punch/jquery.ui.touch-punch.min.js" />
  
      <!-- Functions that have no home yet. Find a home for them? -->
      <h:outputScript name="scripts/passingthrough.js" target="head"/>   
      
      <!-- Dust -->
      <h:outputScript name="scripts/dustjs/dust-full-1.1.1.js" />
      <h:outputScript name="scripts/dustjs/dust-helpers-1.1.0.js" />
      <h:outputScript name="scripts/gui/dustloader.js" />
      
      <!-- Async -->
      <h:outputScript name="scripts/async/async.js" />
      
      <!-- ObjectPath -->
      <h:outputScript name="scripts/objectpathjs/interpreter.js" />
      <h:outputScript name="scripts/objectpathjs/parse.js" />
      <h:outputScript name="scripts/objectpathjs/tokens.js" />
      
      <!-- jQuery REST -->
      <h:outputScript name="scripts/jquery.rest/jquery.rest.min.js"/>
      
      <!-- Api -->
      <h:outputScript name="scripts/api/api.js"/>
      
      <!-- REST -->
      <h:outputScript name="scripts/gui/restful.js" />
  
      <!-- Widget Controller -->
      <h:outputScript name="scripts/gui/widgetcontroller.js" />
      
      <!-- Notification Queue -->
      <h:outputScript name="scripts/notificationqueue/notificationqueue.js" />
      
      <ui:insert name="pluginScripts"></ui:insert> 
      <ui:insert name="pluginCss"></ui:insert>
  
    </h:head>
  
    <h:body styleClass="#{bodyClass}">
    
      <ui:include src="/facelets/generic/notification-queue.xhtml"/>
  
  	  <ui:insert name="sitebody">
      
      </ui:insert>    
  
    </h:body>
  
  </f:view>
</html>
